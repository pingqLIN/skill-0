{
  "$schema": "../schema/skill-decomposition.schema.json",
  "meta": {
    "skill_id": "claude__anthropic__pdf",
    "name": "pdf",
    "skill_layer": "claude_skill",
    "title": "PDF Processing Skill",
    "description": "Comprehensive PDF manipulation toolkit for extracting text and tables, creating new PDFs, merging/splitting documents, and handling forms",
    "schema_version": "2.1.0",
    "parse_timestamp": "2026-01-26T04:56:00Z",
    "parser_version": "skill-0 v2.1",
    "parsed_by": "skill-0"
  },
  "original_definition": {
    "source": "anthropics/skills",
    "skill_name": "pdf",
    "skill_description": "Comprehensive PDF manipulation toolkit for extracting text and tables, creating new PDFs, merging/splitting documents, and handling forms"
  },
  "decomposition": {
    "actions": [
      {
        "id": "a_001",
        "name": "Read PDF",
        "action_type": "io_read",
        "description": "Load a PDF file and access its pages and metadata",
        "immutable_elements": [
          "PdfReader class instantiation",
          "file path parameter"
        ],
        "mutable_elements": [
          "input file path"
        ],
        "deterministic": true,
        "side_effects": []
      },
      {
        "id": "a_002",
        "name": "Extract Text",
        "action_type": "transform",
        "description": "Extract text content from PDF pages",
        "immutable_elements": [
          "page.extract_text() method call"
        ],
        "mutable_elements": [
          "page selection",
          "layout preservation option"
        ],
        "deterministic": true,
        "side_effects": []
      },
      {
        "id": "a_003",
        "name": "Extract Tables",
        "action_type": "transform",
        "description": "Extract tabular data from PDF pages using pdfplumber",
        "immutable_elements": [
          "page.extract_tables() method call"
        ],
        "mutable_elements": [
          "page selection",
          "table detection settings"
        ],
        "deterministic": true,
        "side_effects": []
      },
      {
        "id": "a_004",
        "name": "Merge PDFs",
        "action_type": "io_write",
        "description": "Combine multiple PDF files into a single document",
        "immutable_elements": [
          "PdfWriter class",
          "add_page() method",
          "write() method"
        ],
        "mutable_elements": [
          "input PDF files list",
          "output file path",
          "page order"
        ],
        "deterministic": true,
        "side_effects": [
          "creates new file on disk"
        ]
      },
      {
        "id": "a_005",
        "name": "Split PDF",
        "action_type": "io_write",
        "description": "Split a PDF into separate single-page documents",
        "immutable_elements": [
          "page iteration logic",
          "PdfWriter per page"
        ],
        "mutable_elements": [
          "input file",
          "output naming pattern"
        ],
        "deterministic": true,
        "side_effects": [
          "creates multiple files on disk"
        ]
      },
      {
        "id": "a_006",
        "name": "Create PDF",
        "action_type": "io_write",
        "description": "Create a new PDF document using reportlab",
        "immutable_elements": [
          "Canvas class",
          "save() method"
        ],
        "mutable_elements": [
          "page size",
          "content elements",
          "output path"
        ],
        "deterministic": true,
        "side_effects": [
          "creates new file on disk"
        ]
      },
      {
        "id": "a_007",
        "name": "Rotate Page",
        "action_type": "transform",
        "description": "Rotate PDF pages by specified degrees",
        "immutable_elements": [
          "page.rotate() method"
        ],
        "mutable_elements": [
          "rotation angle",
          "page selection"
        ],
        "deterministic": true,
        "side_effects": []
      },
      {
        "id": "a_008",
        "name": "Add Watermark",
        "action_type": "transform",
        "description": "Overlay a watermark PDF onto document pages",
        "immutable_elements": [
          "page.merge_page() method"
        ],
        "mutable_elements": [
          "watermark PDF",
          "target pages"
        ],
        "deterministic": true,
        "side_effects": []
      },
      {
        "id": "a_009",
        "name": "Encrypt PDF",
        "action_type": "transform",
        "description": "Add password protection to PDF",
        "immutable_elements": [
          "writer.encrypt() method"
        ],
        "mutable_elements": [
          "user password",
          "owner password"
        ],
        "deterministic": true,
        "side_effects": []
      },
      {
        "id": "a_010",
        "name": "OCR Scanned PDF",
        "action_type": "external_call",
        "description": "Perform OCR on scanned PDF images using pytesseract",
        "immutable_elements": [
          "pdf2image conversion",
          "pytesseract.image_to_string()"
        ],
        "mutable_elements": [
          "input PDF",
          "language settings"
        ],
        "deterministic": false,
        "side_effects": []
      }
    ],
    "rules": [
      {
        "id": "r_001",
        "name": "Check PDF Fillable Fields",
        "condition_type": "existence_check",
        "condition_expression": "PDF has fillable form fields",
        "returns": "boolean",
        "fail_action": "branch",
        "branching_targets": [
          "use non-fillable fields workflow"
        ]
      },
      {
        "id": "r_002",
        "name": "Validate File Exists",
        "condition_type": "existence_check",
        "condition_expression": "Path(filename).exists()",
        "returns": "boolean",
        "fail_action": "error_throw"
      },
      {
        "id": "r_003",
        "name": "Check Table Not Empty",
        "condition_type": "validation",
        "condition_expression": "table is not None and len(table) > 0",
        "returns": "boolean",
        "fail_action": "branch",
        "branching_targets": [
          "skip table processing"
        ]
      }
    ],
    "directives": [
      {
        "id": "d_001",
        "name": "Fill PDF Form Complete",
        "directive_type": "completion",
        "description": "Form fields populated and saved successfully",
        "decomposable": true,
        "decomposition_hint": "Can be decomposed into: r_001 → a_001 → field_write_actions → a_004",
        "related_elements": [
          "a_001",
          "r_001"
        ]
      },
      {
        "id": "d_002",
        "name": "Extract All Tables to Excel Complete",
        "directive_type": "completion",
        "description": "All tables extracted from PDF and exported to Excel file",
        "decomposable": true,
        "decomposition_hint": "Can be decomposed into: a_001 → r_003 → a_003 → excel_write_action",
        "related_elements": [
          "a_001",
          "a_003",
          "r_003"
        ]
      },
      {
        "id": "d_003",
        "name": "PDF Library Selection Principle",
        "directive_type": "principle",
        "description": "Use pypdf for basic operations, pdfplumber for text/table extraction, reportlab for PDF creation",
        "decomposable": false
      },
      {
        "id": "d_004",
        "name": "OCR Language Constraint",
        "directive_type": "constraint",
        "description": "OCR requires pytesseract and appropriate language packs installed",
        "decomposable": false,
        "related_elements": [
          "a_010"
        ]
      }
    ]
  },
  "execution_paths": [
    {
      "path_id": 1,
      "sequence": [
        "r_002",
        "a_001",
        "a_002"
      ],
      "condition": "User requests text extraction",
      "expected_outcome": "Text content extracted from PDF"
    },
    {
      "path_id": 2,
      "sequence": [
        "r_002",
        "a_001",
        "r_003",
        "a_003"
      ],
      "condition": "User requests table extraction",
      "expected_outcome": "Tables extracted as structured data"
    },
    {
      "path_id": 3,
      "sequence": [
        "r_002",
        "a_001",
        "r_001",
        "d_001"
      ],
      "condition": "User requests form filling",
      "expected_outcome": "PDF form filled and saved",
      "_note": "d_001 marks the completion boundary"
    }
  ],
  "parser_meta": {
    "paths_enumerated": 3,
    "max_paths_exceeded": false,
    "max_paths_limit": 100,
    "decomposition_depth": 1,
    "directives_expandable": 2,
    "requires_deep_parse": false,
    "inconsistency_detected": false
  }
}
